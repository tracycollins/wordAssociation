(this.webpackJsonpcategorizer=this.webpackJsonpcategorizer||[]).push([[0],{119:function(e,t,a){},150:function(e,t,a){},189:function(e,t,a){"use strict";a.r(t);var n,r,c=a(2),s=a(0),i=a(29),o=a.n(i),l=a(67),d=(a(119),a(100)),u=a(19),h=a(32),j=a(10),b=a(12),g=a(95),m=a.n(g),O=a(225),p=a(242),x=a(227),f=a(243),T=a(190),N=a(244),w=a(228),R=a(104),C=(a(150),a(101)),E=a(56),I=a.n(E),y=a(229),v=a(231),k=a(232),U=a(233),A=a(247),S=a(248),_=a(241),L=a(240),D=a(230),W=a(246),B=a(245),G=a(249),P=a(99),K=a.n(P),M=a(235),F=a(236),z=a(238),H=a(234),V=a(237),X=a(239),Y=Object(O.a)((function(e){return{root:{flexGrow:2},grid:{display:"flex"},gridItem:{margin:5},card:{raised:!1,maxWidth:400},profileImage:{maxHeight:400},bannerImage:{height:80},table:{},tableRowGreen:{backgroundColor:"lightgreen"},appBar:{backgroundColor:"white",margin:2},statusBar:{backgroundColor:"white",margin:2},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,color:"blue"},search:Object(h.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:"white","&:hover":{backgroundColor:"lightgray"},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"primary"},inputInput:Object(h.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),buttonGroupLabel:{color:"blue",marginRight:e.spacing(1)},buttonAll:{color:"black"},buttonLeft:{color:"blue"},buttonNeutral:{color:"gray"},buttonRight:{color:"red"},buttonMismatch:{margin:5},autoCategory:{borderRadius:e.shape.borderRadius,padding:e.spacing(1),color:"white"},left:{backgroundColor:"blue",borderRadius:e.shape.borderRadius,padding:e.spacing(1),color:"white"},neutral:{backgroundColor:"gray",borderRadius:e.shape.borderRadius,padding:e.spacing(1),color:"white"},right:{backgroundColor:"red",borderRadius:e.shape.borderRadius,padding:e.spacing(1),color:"white"},none:{backgroundColor:"white",borderRadius:e.shape.borderRadius,padding:e.spacing(1),color:"white"}}})),J=function(e){return new Date(e).toLocaleDateString("en-gb",{year:"numeric",month:"short",day:"numeric"})},Z=function(e){var t=Y(),a=J(e.user.createdAt),n=J(e.user.lastSeen),r=new I.a(new Date(e.user.lastSeen)).toString(1,4),i=e.user.createdAt?new I.a(new Date(e.user.createdAt)):new I.a(new Date),o=i.toString(1,4),l=i.days>0?Math.ceil(e.user.statusesCount/i.days):0,d=Object(s.useState)(e.user.screenName),h=Object(u.a)(d,2),j=h[0],b=h[1];Object(s.useEffect)((function(){b(e.user.screenName)}),[e]);return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(x.a,{className:t.appBar,position:"static",children:Object(c.jsxs)(w.a,{children:[Object(c.jsx)(R.a,{variant:"h6",className:t.title,children:"User"}),Object(c.jsxs)("div",{className:t.search,children:[Object(c.jsx)("div",{className:t.searchIcon,children:Object(c.jsx)(K.a,{color:"primary"})}),Object(c.jsx)(W.a,{placeholder:"search\u2026",classes:{root:t.inputRoot,input:t.inputInput},inputProps:{"aria-label":"search"},value:j,onKeyPress:function(t){13===t.charCode&&(console.log("ENTER"),e.handleSearchUser(j))},onChange:function(e){console.log("handleChangeSearch: "+e.target.value),b(e.target.value)}})]}),Object(c.jsx)(R.a,{className:t.buttonGroupLabel,children:"UNCAT"}),Object(c.jsxs)(y.a,{variant:"contained",color:"primary",size:"small","aria-label":"small button group",children:[Object(c.jsxs)(T.a,{onClick:e.handleUserChange,name:"all",children:["ALL: ",e.stats.user.uncategorized.all]}),Object(c.jsxs)(T.a,{onClick:e.handleUserChange,name:"left",children:["LEFT: ",e.stats.user.uncategorized.left]}),Object(c.jsxs)(T.a,{onClick:e.handleUserChange,name:"neutral",children:["NEUTRAL: ",e.stats.user.uncategorized.neutral]}),Object(c.jsxs)(T.a,{onClick:e.handleUserChange,name:"right",children:["RIGHT: ",e.stats.user.uncategorized.right]})]}),Object(c.jsxs)(T.a,{variant:"contained",color:"primary",size:"small",onClick:e.handleUserChange,name:"mismatch",className:t.buttonMismatch,children:["MISMATCH ",e.stats.user.mismatched]})]})}),Object(c.jsxs)(D.a,{className:t.grid,children:[Object(c.jsx)(D.a,{item:!0,className:t.gridItem,xs:3,children:Object(c.jsxs)(v.a,{className:t.card,variant:"outlined",children:[Object(c.jsxs)(k.a,{onClick:function(){console.log("open twitter"),window.open("http://twitter.com/".concat(e.user.screenName||null),"_blank")},children:[Object(c.jsx)(R.a,{variant:"h6",children:e.user.name}),Object(c.jsxs)(R.a,{children:["@",e.user.screenName]})]}),Object(c.jsx)(U.a,{className:t.profileImage,src:e.user.profileImageUrl||"logo192.png",component:"img",onError:function(e){}}),Object(c.jsx)("br",{}),Object(c.jsx)(U.a,{className:t.bannerImage,src:e.user.bannerImageUrl||"logo192.png",component:"img",onError:function(e){}}),Object(c.jsx)(k.a,{children:Object(c.jsx)(R.a,{children:e.user.description})})]})}),Object(c.jsx)(D.a,{item:!0,className:t.gridItem,xs:3,children:Object(c.jsx)(C.a,{dataSource:{sourceType:"profile",screenName:e.user.screenName},options:{height:"640"}})}),Object(c.jsx)(D.a,{item:!0,className:t.gridItem,xs:3,children:Object(c.jsx)(H.a,{children:Object(c.jsx)(M.a,{className:t.table,size:"small",children:Object(c.jsxs)(F.a,{children:[Object(c.jsxs)(V.a,{children:[Object(c.jsx)(z.a,{children:"id"}),Object(c.jsx)(z.a,{align:"right",children:e.user.nodeId})]}),Object(c.jsxs)(V.a,{children:[Object(c.jsx)(z.a,{children:"location"}),Object(c.jsx)(z.a,{align:"right",children:e.user.location})]}),Object(c.jsxs)(V.a,{children:[Object(c.jsx)(z.a,{children:"created"}),Object(c.jsx)(z.a,{align:"right",children:a})]}),Object(c.jsxs)(V.a,{children:[Object(c.jsx)(z.a,{children:"twitter age"}),Object(c.jsx)(z.a,{align:"right",children:o})]}),Object(c.jsxs)(V.a,{className:e.user.followersCount>5e3?t.tableRowGreen:null,children:[Object(c.jsx)(z.a,{children:"followers"}),Object(c.jsx)(z.a,{align:"right",children:e.user.followersCount})]}),Object(c.jsxs)(V.a,{children:[Object(c.jsx)(z.a,{children:"friends"}),Object(c.jsx)(z.a,{align:"right",children:e.user.friendsCount})]}),Object(c.jsxs)(V.a,{children:[Object(c.jsx)(z.a,{children:"tweets"}),Object(c.jsx)(z.a,{align:"right",children:e.user.statusesCount})]}),Object(c.jsxs)(V.a,{children:[Object(c.jsx)(z.a,{children:"tweets/day"}),Object(c.jsx)(z.a,{align:"right",children:l})]}),Object(c.jsxs)(V.a,{children:[Object(c.jsx)(z.a,{children:"last seen"}),Object(c.jsx)(z.a,{align:"right",children:n})]}),Object(c.jsxs)(V.a,{children:[Object(c.jsx)(z.a,{children:"last seen"}),Object(c.jsxs)(z.a,{align:"right",children:[r," ago"]})]}),Object(c.jsxs)(V.a,{children:[Object(c.jsx)(z.a,{children:"mentions"}),Object(c.jsx)(z.a,{align:"right",children:e.user.mentions})]}),Object(c.jsxs)(V.a,{children:[Object(c.jsx)(z.a,{children:"mentions/min"}),Object(c.jsx)(z.a,{align:"right",children:e.user.rate?e.user.rate.toFixed(1):0})]})]})})})}),Object(c.jsx)(D.a,{item:!0,className:t.gridItem,xs:2,children:Object(c.jsx)(H.a,{children:Object(c.jsxs)(M.a,{className:t.table,size:"small",children:[Object(c.jsx)(X.a,{children:Object(c.jsxs)(V.a,{children:[Object(c.jsx)(z.a,{children:"CAT"}),Object(c.jsx)(z.a,{align:"left",children:"MAN"}),Object(c.jsx)(z.a,{align:"left",children:"AUTO"})]})}),Object(c.jsxs)(F.a,{children:[Object(c.jsxs)(V.a,{children:[Object(c.jsx)(z.a,{children:"left"}),Object(c.jsx)(z.a,{align:"right",children:e.stats.user.manual.left}),Object(c.jsx)(z.a,{align:"right",children:e.stats.user.auto.left})]}),Object(c.jsxs)(V.a,{children:[Object(c.jsx)(z.a,{children:"neutral"}),Object(c.jsx)(z.a,{align:"right",children:e.stats.user.manual.neutral}),Object(c.jsx)(z.a,{align:"right",children:e.stats.user.auto.neutral})]}),Object(c.jsxs)(V.a,{children:[Object(c.jsx)(z.a,{children:"right"}),Object(c.jsx)(z.a,{align:"right",children:e.stats.user.manual.right}),Object(c.jsx)(z.a,{align:"right",children:e.stats.user.auto.right})]})]})]})})}),Object(c.jsx)(D.a,{item:!0,className:t.gridItem,xs:1,children:Object(c.jsxs)(L.a,{children:[Object(c.jsxs)(R.a,{className:function(e){switch(e){case"left":case"neutral":case"right":return t[e];default:return t.none}}(e.user.categoryAuto),align:"center",children:["AUTO: ",e.user.categoryAuto.toUpperCase()||"NONE"]}),Object(c.jsx)(S.a,{component:"fieldset",children:Object(c.jsxs)(G.a,{"aria-label":"category",name:"category",value:e.user.category||"none",onChange:e.handleUserChange,children:[Object(c.jsx)(_.a,{labelPlacement:"start",value:"left",control:Object(c.jsx)(B.a,{}),label:"left"}),Object(c.jsx)(_.a,{labelPlacement:"start",value:"neutral",control:Object(c.jsx)(B.a,{}),label:"neutral"}),Object(c.jsx)(_.a,{labelPlacement:"start",value:"right",control:Object(c.jsx)(B.a,{}),label:"right"}),Object(c.jsx)(_.a,{labelPlacement:"start",value:"positive",control:Object(c.jsx)(B.a,{}),label:"positive"}),Object(c.jsx)(_.a,{labelPlacement:"start",value:"negative",control:Object(c.jsx)(B.a,{}),label:"negative"}),Object(c.jsx)(_.a,{labelPlacement:"start",value:"none",control:Object(c.jsx)(B.a,{}),label:"none"})]})}),Object(c.jsx)(_.a,{control:Object(c.jsx)(A.a,{checked:e.user.categoryVerified||!1,onChange:e.handleUserChange,name:"catVerified"}),label:"verified",labelPlacement:"start"}),Object(c.jsx)(_.a,{control:Object(c.jsx)(A.a,{checked:e.user.following||!1,onChange:e.handleUserChange,name:"following"}),label:"following",labelPlacement:"start"}),Object(c.jsx)(_.a,{control:Object(c.jsx)(A.a,{checked:e.user.ignored||!1,onChange:e.handleUserChange,name:"ignored"}),label:"ignored",labelPlacement:"start"}),Object(c.jsx)(_.a,{control:Object(c.jsx)(A.a,{checked:e.user.isBot||!1,onChange:e.handleUserChange,name:"isBot"}),label:"bot",labelPlacement:"start"})]})})]})]})},q="http://word.threeceelabs.com/auth/twitter",Q="viewer_"+(n=1e9,r=9999999999,Math.floor(Math.random()*(r-n+1)+n)),$={nodeId:Q,userId:Q,viewerId:Q,screenName:Q,type:"viewer",namespace:"view",timeStamp:Date.now(),tags:{}};$.tags.type="viewer",$.tags.mode="stream",$.tags.entity=Q;var ee,te=$;console.log({viewerObj:te});var ae=Object(O.a)((function(e){return{root:{flexGrow:1},appBar:{backgroundColor:"white",margin:2},title:{flexGrow:1,color:"blue"},serverStatus:{color:"gray",padding:e.spacing(1)},twitterAuth:{color:"green",padding:e.spacing(1),marginRight:e.spacing(2)},buttonLogin:{marginRight:e.spacing(2)},statusBar:{backgroundColor:"white",margin:2},menuButton:{marginRight:e.spacing(2)},search:Object(h.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:"white","&:hover":{backgroundColor:"lightgray"},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"primary"},inputInput:Object(h.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"})}})),ne=function(){var e,t=Object(j.d)(),a=ae(),n=Object(s.useState)(!1),r=Object(u.a)(n,2),i=r[0],o=r[1],l=Object(s.useState)(""),h=Object(u.a)(l,2),g=h[0],O=h[1],C=Object(s.useState)({nodesPerMin:0,maxNodesPerMin:0,maxNodesPerMinTime:0,bestNetwork:{networkId:""},user:{uncategorized:{left:0,neutral:0,right:0,all:0,mismatched:0},manual:{left:0,neutral:0,right:0},auto:{left:0,neutral:0,right:0}}}),E=Object(u.a)(C,2),I=E[0],y=E[1],v=Object(s.useState)("idle"),k=Object(u.a)(v,2),U=k[0],A=k[1],S=Object(s.useState)({nodeId:null,screenName:"threecee",name:"",location:"",description:"",profileImageUrl:"https://pbs.twimg.com/profile_images/1205585278565527559/GrTkBpzl.jpg",bannerImage:"",createdAt:null,followersCount:0,friendsCount:0,tweets:0,age:0,mentions:0,rate:0,rateMax:0,tweetsPerDay:0,lastSeen:null,isBot:!1,following:!1,categoryVerfied:!1,category:"none",categoryAuto:"none"}),_=Object(u.a)(S,2),L=_[0],D=_[1],W=Object(s.useState)([]),B=Object(u.a)(W,2),G=(B[0],B[1]),P=Object(s.useState)(0),K=Object(u.a)(P,2),M=(K[0],K[1],Object(s.useCallback)((function(e,a){console.log("handleUserChange | user: @"+a.screenName),void 0!==e.persist&&e.persist(),void 0!==e.preventDefault&&e.preventDefault();var n=e.currentTarget.name||"nop",r=e.currentTarget.value,c=e.currentTarget.checked;if(void 0===e.currentTarget.name&&e.code)switch(e.code){case"ArrowRight":n="history",t.goForward(),r=t.location.pathname.split("@").pop();break;case"ArrowLeft":n="history",t.goBack(),r=t.location.pathname.split("@").pop();break;case"KeyA":n="all";break;case"KeyD":case"KeyL":e.shiftKey?(n="category",r="left"):n="left";break;case"KeyN":e.shiftKey?(n="category",r="neutral"):n="neutral";break;case"KeyR":e.shiftKey?(n="category",r="right"):n="right";break;case"KeyI":case"KeyX":e.shiftKey&&(n="ignored",c=!a.ignored);break;case"KeyV":e.shiftKey&&(n="catVerified",c=!a.categoryVerified);break;case"KeyB":e.shiftKey&&(n="isBot",c=!a.isBot)}console.log("handleUserChange | @"+a.screenName+" | name: "+n+" | value: "+r);var s="@?";switch(A((function(e){return n})),n){case"nop":break;case"history":console.log("handleUserChange | history | @"+a.screenName+" | name: "+n+" | value: "+r),ee.emit("TWITTER_SEARCH_NODE","@"+r);break;case"all":case"left":case"neutral":case"right":s+=n,ee.emit("TWITTER_SEARCH_NODE",s);break;case"mismatch":ee.emit("TWITTER_SEARCH_NODE","@?mm");break;case"category":ee.emit("TWITTER_CATEGORIZE_NODE",{category:r,following:!0,node:a});break;case"isBot":c?ee.emit("TWITTER_BOT",a):ee.emit("TWITTER_UNBOT",a);break;case"following":c?ee.emit("TWITTER_FOLLOW",a):ee.emit("TWITTER_UNFOLLOW",a);break;case"catVerified":c?ee.emit("TWITTER_CATEGORY_VERIFIED",a):ee.emit("TWITTER_CATEGORY_UNVERIFIED",a);break;case"ignored":c?ee.emit("TWITTER_IGNORE",a):ee.emit("TWITTER_UNIGNORE",a);break;default:console.log("handleUserChange: UNKNOWN NAME: "+n+" | VALUE: "+r),console.log({event:e})}}),[t]));return Object(s.useEffect)((function(){t.location.pathname.endsWith("@"+L.screenName)||t.push("/user/@"+L.screenName)}),[L,t]),Object(s.useEffect)((function(){return(ee=m()("https://word.threeceelabs.com/view")).on("connect",(function(){console.log("CONNECTED: "+ee.id),A((function(e){return"authentication"})),ee.emit("authentication",{namespace:"view",userId:"test",password:"0123456789"})})),ee.on("SET_TWITTER_USER",(function(e){var t;console.debug("RX SET_TWITTER_USER"),void 0!==(t=e.node)&&void 0!==t.nodeId&&void 0!==t.screenName&&(D((function(t){return e.node})),console.debug("new: @"+e.node.screenName),G((function(t){return[].concat(Object(d.a)(t),[e.node.screenName])}))),A((function(e){return"idle"})),y((function(t){return e.stats}))})),ee.on("action",(function(e){switch(console.debug("RX ACTION | socket: "+ee.id+" | TYPE: "+e.type),console.debug("RX ACTION | ",e.data),e.type){case"user":D((function(t){return e.data})),console.log("USER: @"+e.data.screenName+" | "+e.data.profileImageUrl);break;case"hashtag":console.log("HT: #"+e.data.text);break;case"stats":y((function(t){return e.data}))}})),ee.on("authenticated",(function(){A((function(e){return"idle"})),console.debug("AUTHENTICATED | "+ee.id),ee.emit("TWITTER_SEARCH_NODE","@threecee")})),ee.on("USER_AUTHENTICATED",(function(e){A((function(e){return"idle"})),o((function(e){return!0})),O((function(t){return e.screenName})),console.log("RX TWITTER USER_AUTHENTICATED | USER: @"+e.screenName)})),ee.on("TWITTER_USER_NOT_FOUND",(function(e){A((function(e){return"idle"})),console.debug("RX TWITTER_USER_NOT_FOUND"),console.debug(e),y((function(t){return e.stats}))})),function(){return ee.disconnect()}}),[]),Object(b.a)("left",(function(e){return M(e,L)}),{},[L]),Object(b.a)("right",(function(e){return M(e,L)}),{},[L]),Object(b.a)("A",(function(e){return M(e,L)}),{},[L]),Object(b.a)("L",(function(e){return M(e,L)}),{},[L]),Object(b.a)("shift+L",(function(e){return M(e,L)}),{},[L]),Object(b.a)("D",M),Object(b.a)("shift+D",(function(e){return M(e,L)}),{},[L]),Object(b.a)("R",M),Object(b.a)("shift+R",(function(e){return M(e,L)}),{},[L]),Object(b.a)("N",M),Object(b.a)("shift+N",(function(e){return M(e,L)}),{},[L]),Object(b.a)("shift+I",(function(e){return M(e,L)}),{},[L]),Object(b.a)("shift+B",(function(e){return M(e,L)}),{},[L]),Object(b.a)("shift+V",(function(e){return M(e,L)}),{},[L]),Object(b.a)("shift+X",(function(e){return M(e,L)}),{},[L]),Object(c.jsx)("div",{className:a.root,children:Object(c.jsxs)(p.a,{component:"main",maxWidth:!1,children:[Object(c.jsx)(x.a,{className:a.appBar,position:"static",children:Object(c.jsxs)(w.a,{children:[Object(c.jsx)(R.a,{variant:"h6",className:a.title,children:"Categorizer"}),"idle"!==U?Object(c.jsx)(f.a,{}):Object(c.jsx)(c.Fragment,{}),Object(c.jsxs)(R.a,{className:a.serverStatus,children:["NN: ",I.bestNetwork.networkId]}),Object(c.jsxs)(R.a,{className:a.serverStatus,children:[I.nodesPerMin," nodes/min (max: ",I.maxNodesPerMin," | time: ",(e=I.maxNodesPerMinTime,new Date(e).toLocaleDateString("en-gb",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"})),")"]}),Object(c.jsx)(N.a,{className:a.twitterAuth,href:"http://twitter.com/"+g,target:"_blank",rel:"noopener",children:g?"@"+g:""}),Object(c.jsx)(T.a,{className:a.buttonLogin,variant:"contained",color:"primary",size:"small",onClick:function(){i?(console.warn("LOGGING OUT"),ee.emit("logout",te),o(!1),O("")):(console.warn("LOGIN: AUTH: "+i+" | URL: "+q),window.open(q,"LOGIN","_new"),ee.emit("login",te))},name:"login",label:"login",children:i?"LOGOUT":"LOGIN TWITTER"})]})}),Object(c.jsx)(Z,{user:L,stats:I,handleUserChange:M,handleSearchUser:function(e){var t="@"+e;ee.emit("TWITTER_SEARCH_NODE",t)}})]})})},re=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,251)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))};o.a.render(Object(c.jsx)(l.a,{children:Object(c.jsx)(ne,{})}),document.getElementById("root")),re()}},[[189,1,2]]]);
//# sourceMappingURL=main.a2387013.chunk.js.map